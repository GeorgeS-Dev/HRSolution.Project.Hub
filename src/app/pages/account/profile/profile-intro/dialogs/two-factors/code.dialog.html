<h1 mat-dialog-title class="dialog-title">
    Enable Two-Factor Authentication
</h1>

<div mat-dialog-content class="dialog-content text-center">
    <p class="instruction-text">
        <strong>1. Download the <a href="https://aka.ms/MFASetup" target="_blank" class="link">Microsoft Authenticator app</a>.</strong>
    </p>

    <p class="instruction-text">
        <strong>2. Scan the QR code below using the Microsoft Authenticator app.</strong>
    </p>

    <p class="instruction-text">
        <strong>3. Enter the 6-digit code generated by the app to confirm 2FA.</strong>
    </p>

    <div class="qr-code-container">
        <qrcode [qrdata]="twoFactorString" [width]="256" [errorCorrectionLevel]="'M'"></qrcode>
    </div>

    <div class="col-sm-12 text-center">
        <mat-form-field class="mat-form-field default-btn">
            <mat-label>Enter 2FA Code</mat-label>
            <input
                matInput
                maxlength="6"
                minlength="6"
                [(ngModel)]="verificationCode"
                placeholder="Verification Code"
                required
                class="default-btn"
            />
        </mat-form-field>
        <mat-error *ngIf="isCodeInvalid">Invalid 2FA code. Please try again.</mat-error>
    </div>
</div>

<div mat-dialog-actions class="dialog-actions text-center">
    <button mat-flat-button color="primary" class="text-bg-success" (click)="validateCode()">
        Confirm
    </button>
</div>
